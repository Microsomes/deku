(library
 (name load_test_helpers)
 (modules load_test_helpers)
 (preprocess
  (pps ppx_deriving.show ppx_deriving_yojson ppx_let_binding))
 (libraries bin_common lwt cmdliner))

(executable
 (name load_test_tps)
 (public_name deku-load-test-tps)
 (modules load_test_tps)
 (preprocess
  (pps ppx_deriving.show ppx_deriving_yojson ppx_let_binding))
 (libraries cmdliner load_test_helpers))

(executable
 (name load_test_tps_offline)
 (public_name deku-load-test-tps-offline)
 (modules load_test_tps_offline)
 (preprocess
  (pps ppx_deriving.show ppx_deriving_yojson ppx_let_binding))
 (libraries cmdliner load_test_helpers))

(executable
 (name network_msg)
 (public_name deku-network-msg)
 (modules network_msg)
 (preprocess
  (pps ppx_deriving.show ppx_deriving_yojson ppx_let_binding))
 (libraries cmdliner load_test_helpers))