/*! For license information please see e79c0796.1eb4756d.js.LICENSE.txt */
"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[321],{41535:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,k={};function y(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||f}function b(){}function g(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var v=g.prototype=new b;v.constructor=g,m(v,y.prototype),v.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,P={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,a)&&!D.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:P.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function z(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+z(l,0):o,w(i)?(a="",null!=e&&(a=e.replace(O,"$&/")+"/"),j(i,t,a,"",(function(e){return e}))):null!=i&&(T(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(O,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+z(s=e[u],u);l+=j(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=j(s=s.value,t,a,c=o+z(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function S(e,t,n){if(null==e)return e;var r=[],a=0;return j(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},A={transition:null}},27378:(e,t,n)=>{n(41535)},3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),h=a,f=d["".concat(l,".").concat(h)]||d[h]||p[h]||o;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},24592:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=n(87462),a=(n(27378),n(3905));const o={sidebar_position:2},i="Deku-P Overview",s={unversionedId:"Deku-P/deku_p_overview",id:"Deku-P/deku_p_overview",title:"Deku-P Overview",description:"Deku-P is a framework for building high-performance sidechains for Tezos.",source:"@site/../docs/Deku-P/deku_p_overview.md",sourceDirName:"Deku-P",slug:"/Deku-P/deku_p_overview",permalink:"/docs/Deku-P/deku_p_overview",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/../docs/Deku-P/deku_p_overview.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Quick-start with Deku-P",permalink:"/docs/Deku-P/dekup_quickstart"},next:{title:"Deku-P Architecture",permalink:"/docs/Deku-P/architecture"}},l={},u=[{value:"What is a sidechain?",id:"what-is-a-sidechain",level:2},{value:"Deku-P consensus",id:"deku-p-consensus",level:2},{value:"Tezos Interop",id:"tezos-interop",level:2},{value:"Deku-P Virtual Machines",id:"deku-p-virtual-machines",level:2},{value:"Summary",id:"summary",level:2}],c={toc:u};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"deku-p-overview"},"Deku-P Overview"),(0,a.kt)("p",null,"Deku-P is a framework for building high-performance sidechains for Tezos.\nBy providing a binary that adheres to a simple protocol, developers\ncan design their own application-specific virtual machines in any programming language\nand run them as Proof-of-Authority blockchains with full access to the Tezos ecosystem."),(0,a.kt)("p",null,"In this article, we'll give an overview of Deku-P's main concepts."),(0,a.kt)("h2",{id:"what-is-a-sidechain"},"What is a sidechain?"),(0,a.kt)("p",null,"A sidechain is a blockchain with a ",(0,a.kt)("a",{parentName:"p",href:"https://ethereum.org/en/developers/docs/nodes-and-clients/#light-node"},"light client"),"\nembedded in a host blockchain. In the case of Deku-P sidechains, the light client is written as a smart contract deployed\nto Tezos called the bridge contract. Each sidechain has its own bridge contract.\nDeku-P validator nodes receive transactions from users, organize them into blocks, and execute them to determine a new state.\nAdditionally, they periodically post their block headers to the bridge contract, allowing Tezos to witness the\nstate of sidechain's consensus."),(0,a.kt)("h2",{id:"deku-p-consensus"},"Deku-P consensus"),(0,a.kt)("p",null,"Deku-P sidechains use a Tendermint-based consensus to order blocks.\nThis algorithm is based on Proof-of-Authority - a group of trusted parties are selected ahead of time,\nand only the blocks with a 2/3rds supermajority of signatures from these parties are accepted. The bridge\ncontract on Tezos acts as an oracle by which users can identify who the current validators are for a particular\nsidechain at any given moment."),(0,a.kt)("p",null,"While the bridge contract mechanism works similarly to rollups, Deku-P sidechains require a greater trust\nthreshold (supermajority, as opposed to any-trust). However, unlike with rollups, a sidechain's\nblock production is decoupled from Tezos, unlocking much greater bandwidth and lower latency (you can read more\nabout this in ",(0,a.kt)("a",{parentName:"p",href:"/docs/Deku-P/architecture"},"the architecture doc"),")."),(0,a.kt)("h2",{id:"tezos-interop"},"Tezos Interop"),(0,a.kt)("p",null,"Users can deposit Tezos assets in the form of ",(0,a.kt)("a",{parentName:"p",href:"https://www.marigold.dev/post/tickets-for-dummies"},"tickets")," to Deku-P chains\nby locking them in the bridge contract's vault. Deposits are finalized and available on the sidechain in the span of a single\nTezos finality period (two Tezos blocks)."),(0,a.kt)("p",null,"Users can withdraw assets from Deku-P chains to Tezos by burning them on the Deku side. Burn receipts are collected\ninto a ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Merkle_tree"},"Merkle root hash")," and included in the Deku block headers. When the block\nis posted to the Tezos bridge contract, users can present a Merkle proof witnessing the inclusion of their receipt\nand finalize their withdraw on Tezos."),(0,a.kt)("p",null,"In exchange for requiring less trust, withdraws from interactive rollups are bound to the\nworst-case latency of the interactive refutation game and can take weeks to finalize. Withdraws from Deku-P sidechains\nare finalized and available on Tezos in two Tezos blocks (about a minute). "),(0,a.kt)("p",null,"Virtually any Tezos asset can be wrapped in a ticket and deposited to Deku. ",(0,a.kt)("a",{parentName:"p",href:"https://ghostnet.tzportal.marigold.dev/"},"TzPortal"),"\nprovides a user-friendly interface automating the process of wrapping FA1.2 and FA2 tokens in tickets and depositing to/withdrawing from\nDeku-P sidechains."),(0,a.kt)("h2",{id:"deku-p-virtual-machines"},"Deku-P Virtual Machines"),(0,a.kt)("p",null,"While Tezos is specialized to run the Michelson virtual machine and Ethereum specialized to run EVM, Deku-P is ",(0,a.kt)("em",{parentName:"p"},"parametric"),"\nwith respect to the virtual machine it runs. Deku nodes assemble user transactions into blocks and submit them to\nthe VM - transaction semantics are left entirely up to you."),(0,a.kt)("p",null,"Deku VM's communicate with the node over ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Named_pipe"},"named pipes"),". When a transaction\nis finalized, it is sent to the VM, which responds with a series of reads and writes to the underlying data store. The VM\ncan implement any business logic you desire, but it must be completely deterministic, else individual nodes could get out of\nsync, compromising the safety of the network."),(0,a.kt)("p",null,"We have SDK's in Typescript, Go and OCaml, but supporting new languages is easy - see the ",(0,a.kt)("a",{parentName:"p",href:"/docs/Deku-P/vm_protocol"},"VM protocol docs"),"\nfor more."),(0,a.kt)("h2",{id:"summary"},"Summary"),(0,a.kt)("p",null,"It's useful to compare/contrast Deku-P sidechains with Tezos itself and with rollups:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null}),(0,a.kt)("th",{parentName:"tr",align:null},"Tezos"),(0,a.kt)("th",{parentName:"tr",align:null},"Rollups"),(0,a.kt)("th",{parentName:"tr",align:null},"Deku-P"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Additional Trust Beyond Tezos"),(0,a.kt)("td",{parentName:"tr",align:null},"N/A"),(0,a.kt)("td",{parentName:"tr",align:null},"any-trust"),(0,a.kt)("td",{parentName:"tr",align:null},"2/3rd supermajority")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Block Latency"),(0,a.kt)("td",{parentName:"tr",align:null},"30s"),(0,a.kt)("td",{parentName:"tr",align:null},"30s (coupled to Tezos)"),(0,a.kt)("td",{parentName:"tr",align:null},"2s")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Throughput"),(0,a.kt)("td",{parentName:"tr",align:null},"200 tx/s"),(0,a.kt)("td",{parentName:"tr",align:null},"1000 tx/s"),(0,a.kt)("td",{parentName:"tr",align:null},"50,000 tx/s")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Possible to run in private?"),(0,a.kt)("td",{parentName:"tr",align:null},"No"),(0,a.kt)("td",{parentName:"tr",align:null},"No"),(0,a.kt)("td",{parentName:"tr",align:null},"Yes")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Language Support"),(0,a.kt)("td",{parentName:"tr",align:null},"Ligo, SmartPy, et al."),(0,a.kt)("td",{parentName:"tr",align:null},"same as Tezos + WASM"),(0,a.kt)("td",{parentName:"tr",align:null},"Any language")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Deposit Latency"),(0,a.kt)("td",{parentName:"tr",align:null},"N/A"),(0,a.kt)("td",{parentName:"tr",align:null},"1 min"),(0,a.kt)("td",{parentName:"tr",align:null},"1 min")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Withdraw Latency"),(0,a.kt)("td",{parentName:"tr",align:null},"N/A"),(0,a.kt)("td",{parentName:"tr",align:null},"two weeks"),(0,a.kt)("td",{parentName:"tr",align:null},"1 min")))),(0,a.kt)("p",null,"Sidechains require additional trust but in exchange offer more flexibility, lower latency,\nand higher bandwidth."))}p.isMDXComponent=!0}}]);